<div class='parent-container'>
    <div class='container'>

        <div class="signupBox" align="center">
            <mat-card class='mat-elevation-z0'>
                <mat-card-title>
                    <p class="head">SignUp Here</p>
                </mat-card-title>
                
                <form class = "reg-form" #regAuthForm="ngForm">
                    
                    <mat-card-content>

                        <div class="half-cut">

                            <mat-form-field class="margin-right">
                                <mat-label>
                                    First Name
                                </mat-label>
                                <input 
                                    matInput
                                    type="text"
                                   [(ngModel)]="userRegistrationData.firstName"
                                    name="firstName"
                                    required
                                    pattern="(.|\s)*\S(.|\s)*"
                                    #firstName="ngModel">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>
                                    Last Name
                                </mat-label>
                                <input 
                                    matInput
                                    type="text"
                                    [(ngModel)]="userRegistrationData.lastName"
                                    name="lastName"
                                    required
                                    pattern="(.|\s)*\S(.|\s)*"
                                    #lastName="ngModel">
                            </mat-form-field>

                        </div>

                        

                        <div>

                        <mat-error 
                            class="help"
                            *ngIf="(!firstName.valid && firstName.touched) &&
                            !(!lastName.valid && lastName.touched)"
                            >
                                Enter first name
                        </mat-error>
                        <mat-error 
                            class="help"
                            *ngIf="(!lastName.valid && lastName.touched) &&
                            !(!firstName.valid && firstName.touched)"
                            >
                                Enter last name
                        </mat-error>
                        <mat-error 
                            class="help"
                            *ngIf="(!firstName.valid && firstName.touched) &&
                            (!lastName.valid && lastName.touched)"
                            >
                                Enter first and last names
                        </mat-error>

                        </div>

                        

                    </mat-card-content>
    
                    <mat-card-content>

                        <div class="half-cut">
                            <mat-form-field class="margin-right">
                                <mat-label>
                                    Email
                                </mat-label>
                                <input 
                                    matInput
                                    type="email"
                                    [(ngModel)]="userRegistrationData.email"
                                    name="email"
                                    required
                                    email
                                    #email="ngModel"> 
                            </mat-form-field>
                            <mat-form-field floatLabel="always" >
                                <mat-label>
                                    Username
                                 </mat-label>
                                 <input 
                                     matInput
                                     type="text"
                                    [(ngModel)]="userRegistrationData.userName"
                                     name="userName"
                                     required
                                     pattern="(.|\s)*\S(.|\s)*"
                                     #username="ngModel">
                            </mat-form-field>
                        </div>                     

                        <mat-error 
                            class="help"
                            *ngIf="!username.valid && username.touched"
                            >
                                Please enter a valid username
                        </mat-error>
                        <mat-error  
                        class="help"
                        *ngIf="!email.valid && email.touched"
                        >
                            Please enter a valid email
                    </mat-error >

                    </mat-card-content>

                    <mat-card-content>

                        <div class="half-cut">

                            <mat-form-field class="margin-right">
                                <mat-label>
                                    Address
                                </mat-label>
                                <input 
                                    matInput
                                    type="text"
                                   [(ngModel)]="userRegistrationData.address"
                                    name="address"
                                    required
                                    pattern="(.|\s)*\S(.|\s)*"
                                    #address="ngModel">
                            </mat-form-field>
                            <mat-form-field floatLabel="always">
                                <mat-label>
                                    Phone No.
                                </mat-label>
                                <input 
                                    matInput
                                    type="number"
                                   [(ngModel)]="userRegistrationData.phNumber"
                                    name="phNumber"
                                    required
                                    pattern="(.|\s)*\S(.|\s)*"
                                    #phNumber="ngModel">
                            </mat-form-field>

                        </div>

                        

                        <div>

                        <mat-error 
                            class="help"
                            *ngIf="(!address.valid && address.touched)"
                            >
                                Enter Address
                        </mat-error>
                        <mat-error 
                            class="help"
                            *ngIf="(!phNumber.valid && phNumber.touched) &&
                            !(!address.valid && address.touched)"
                            >
                                Enter Phone Number
                        </mat-error>
                        <mat-error 
                            class="help"
                            *ngIf="(!address.valid && address.touched) &&
                            (!phNumber.valid && phNumber.touched)"
                            >
                                Enter Address and Phone number
                        </mat-error>

                        </div>

                        

                    </mat-card-content>
    
                    <mat-card-content>

                        <div class="half-cut">

                            <mat-form-field class="margin-right">
                                <mat-label>
                                    Password
                                </mat-label>
                                <input 
                                    matInput
                                    [type]="hide?'password':'text'"
                                    [(ngModel)]="userRegistrationData.password"
                                    name="password"
                                    required
                                    pattern="^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*\W)(?!.* ).{8,16}$"
                                    #password="ngModel">
                                    <button 
                                    mat-icon-button 
                                    matSuffix 
                                    (click)="hide=!hide"
                                >
                                    <mat-icon>{{ hide?'visibility_off': 'visibility' }}</mat-icon>
                                </button>
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>
                                    Confirm
                                </mat-label>
                                <input 
                                    matInput
                                    [type]="hide?'password':'text'"
                                    ngModel
                                    name="confirmPassword"
                                    required
                                    #confirmPassword="ngModel">
                                    <button 
                                    mat-icon-button 
                                    matSuffix 
                                    (click)="hide=!hide"
                                >
                                    <mat-icon>{{ hide?'visibility_off': 'visibility' }}</mat-icon>
                                </button>
                            </mat-form-field>

                        </div>

                        <div>
                            <mat-error 
                                class="help"
                                *ngIf="password.errors?.['pattern']"
                            >
                                Sorry, this password doesn't meet our requirements.
                            </mat-error>
      
                            <mat-error 
                                class="help"
                                *ngIf="(password.touched && password.valid) && confirmPassword.touched  &&
                                (password.value !== confirmPassword.value)"
                            >
                                Passwords don't match
                            </mat-error>
                        </div>
                        
                    </mat-card-content>
    
                    <mat-card-actions>

                        <button 
                        class="loginButton"
                        [disabled]="((!regAuthForm.valid) || (password.value !== confirmPassword.value))" 
                        mat-flat-button (click)="register()"
                        color="primary">Register</button>
                        <a class="login">Already have an account? <a routerLink="/login" class="hyperlink">Login Here</a></a>

                    </mat-card-actions>
                    
                </form>
            </mat-card>
        </div>
    </div>
</div>
    



